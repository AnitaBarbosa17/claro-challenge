{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useMemo, useCallback, useEffect } from \"react\";\n// import { useDispatch, useSelector } from 'react-redux';\nimport { fetchAllChannels, fetchEpgList, roundMinutes } from \"./helpers\";\nimport { useEpg } from \"planby\";\nimport { theme } from \"./helpers/theme\";\nconst globalStyles = `\n\t.planby {\n\t\tfont-family: \"Poppins\" sans-serif;\n\t}\n`;\nexport function useApp() {\n  _s();\n  // const dispatch = useDispatch();\n\n  // const { list: channelsList } = useSelector(state => state.channels);\n  // const { list: epgList } = useSelector(state => state.epg);\n\n  const [channels, setChannels] = useState([]);\n  const [epg, setEpg] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const date = new Date();\n  const startDate = roundMinutes(date);\n  const channelsData = useMemo(() => channels, [channels]);\n  // console.log(\"ðŸš€ ~ file: useApp.js:27 ~ useApp ~ channelsData\", channelsData)\n  const epgData = useMemo(() => epg, [epg]);\n  // console.log(\"ðŸš€ ~ file: useApp.js:29 ~ useApp ~ epgData\", epgData)\n\n  const {\n    getEpgProps,\n    getLayoutProps\n  } = useEpg({\n    channels: channelsData,\n    epg: epgData,\n    dayWidth: 7200,\n    sidebarWidth: 150,\n    itemHeight: 80,\n    isSidebar: true,\n    isTimeline: true,\n    isLine: true,\n    startDate: startDate,\n    isBaseTimeFormat: true,\n    theme,\n    globalStyles\n  });\n  const handleFetchResources = useCallback(async () => {\n    setIsLoading(true);\n    const channelList = await fetchAllChannels();\n    const epgList = await fetchEpgList();\n    setChannels(channelList);\n    setEpg(epgList);\n    setIsLoading(false);\n  }, []);\n\n  // useEffect(() => {\n  // \tdispatch(fetchAllChannels())\n  // }, [dispatch]);\n\n  useEffect(() => {\n    handleFetchResources();\n  }, [handleFetchResources]);\n  return {\n    getEpgProps,\n    getLayoutProps,\n    isLoading\n  };\n}\n_s(useApp, \"An+QXE49wP38MifbrCDPDFpa/mA=\", false, function () {\n  return [useEpg];\n});","map":{"version":3,"names":["useState","useMemo","useCallback","useEffect","fetchAllChannels","fetchEpgList","roundMinutes","useEpg","theme","globalStyles","useApp","channels","setChannels","epg","setEpg","isLoading","setIsLoading","date","Date","startDate","channelsData","epgData","getEpgProps","getLayoutProps","dayWidth","sidebarWidth","itemHeight","isSidebar","isTimeline","isLine","isBaseTimeFormat","handleFetchResources","channelList","epgList"],"sources":["/Users/anabarbosa/Code/Tests/react-redux-monkey/src/useApp.js"],"sourcesContent":["import { useState, useMemo, useCallback, useEffect } from \"react\";\n// import { useDispatch, useSelector } from 'react-redux';\nimport { fetchAllChannels, fetchEpgList, roundMinutes } from \"./helpers\";\nimport { useEpg } from \"planby\";\nimport { theme } from \"./helpers/theme\";\n\nconst globalStyles = `\n\t.planby {\n\t\tfont-family: \"Poppins\" sans-serif;\n\t}\n`;\n\nexport function useApp() {\n\t// const dispatch = useDispatch();\n\n\t// const { list: channelsList } = useSelector(state => state.channels);\n\t// const { list: epgList } = useSelector(state => state.epg);\n\n\tconst [channels, setChannels] = useState([]);\n\tconst [epg, setEpg] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tconst date = new Date()\n\tconst startDate = roundMinutes(date);\t\n\n\tconst channelsData = useMemo(() => channels, [channels]);\n\t// console.log(\"ðŸš€ ~ file: useApp.js:27 ~ useApp ~ channelsData\", channelsData)\n\tconst epgData = useMemo(() => epg, [epg]);\n\t// console.log(\"ðŸš€ ~ file: useApp.js:29 ~ useApp ~ epgData\", epgData)\n\n\tconst { getEpgProps, getLayoutProps } = useEpg({\n\t\tchannels: channelsData,\n\t\tepg: epgData,\n\t\tdayWidth: 7200,\n\t\tsidebarWidth: 150,\n\t\titemHeight: 80,\n\t\tisSidebar: true,\n\t\tisTimeline: true,\n\t\tisLine: true,\n\t\tstartDate: startDate,\n\t\tisBaseTimeFormat: true,\n\t\ttheme,\n\t\tglobalStyles\n\t});\n\n\tconst handleFetchResources = useCallback(async () => {\n\t\tsetIsLoading(true);\n\t\tconst channelList = await fetchAllChannels();\n\t\tconst epgList = await fetchEpgList();\n\t\tsetChannels(channelList);\n\t\tsetEpg(epgList);\n\t\tsetIsLoading(false);\n\t}, []);\n\n\t// useEffect(() => {\n\t// \tdispatch(fetchAllChannels())\n\t// }, [dispatch]);\n\n\tuseEffect(() => {\n\t\thandleFetchResources();\n\t}, [handleFetchResources]);\n\n\treturn { getEpgProps, getLayoutProps, isLoading };\n}\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,OAAO,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AACjE;AACA,SAASC,gBAAgB,EAAEC,YAAY,EAAEC,YAAY,QAAQ,WAAW;AACxE,SAASC,MAAM,QAAQ,QAAQ;AAC/B,SAASC,KAAK,QAAQ,iBAAiB;AAEvC,MAAMC,YAAY,GAAI;AACtB;AACA;AACA;AACA,CAAC;AAED,OAAO,SAASC,MAAM,GAAG;EAAA;EACxB;;EAEA;EACA;;EAEA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,GAAG,EAAEC,MAAM,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMiB,IAAI,GAAG,IAAIC,IAAI,EAAE;EACvB,MAAMC,SAAS,GAAGb,YAAY,CAACW,IAAI,CAAC;EAEpC,MAAMG,YAAY,GAAGnB,OAAO,CAAC,MAAMU,QAAQ,EAAE,CAACA,QAAQ,CAAC,CAAC;EACxD;EACA,MAAMU,OAAO,GAAGpB,OAAO,CAAC,MAAMY,GAAG,EAAE,CAACA,GAAG,CAAC,CAAC;EACzC;;EAEA,MAAM;IAAES,WAAW;IAAEC;EAAe,CAAC,GAAGhB,MAAM,CAAC;IAC9CI,QAAQ,EAAES,YAAY;IACtBP,GAAG,EAAEQ,OAAO;IACZG,QAAQ,EAAE,IAAI;IACdC,YAAY,EAAE,GAAG;IACjBC,UAAU,EAAE,EAAE;IACdC,SAAS,EAAE,IAAI;IACfC,UAAU,EAAE,IAAI;IAChBC,MAAM,EAAE,IAAI;IACZV,SAAS,EAAEA,SAAS;IACpBW,gBAAgB,EAAE,IAAI;IACtBtB,KAAK;IACLC;EACD,CAAC,CAAC;EAEF,MAAMsB,oBAAoB,GAAG7B,WAAW,CAAC,YAAY;IACpDc,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMgB,WAAW,GAAG,MAAM5B,gBAAgB,EAAE;IAC5C,MAAM6B,OAAO,GAAG,MAAM5B,YAAY,EAAE;IACpCO,WAAW,CAACoB,WAAW,CAAC;IACxBlB,MAAM,CAACmB,OAAO,CAAC;IACfjB,YAAY,CAAC,KAAK,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA;EACA;;EAEAb,SAAS,CAAC,MAAM;IACf4B,oBAAoB,EAAE;EACvB,CAAC,EAAE,CAACA,oBAAoB,CAAC,CAAC;EAE1B,OAAO;IAAET,WAAW;IAAEC,cAAc;IAAER;EAAU,CAAC;AAClD;AAAC,GAnDeL,MAAM;EAAA,QAkBmBH,MAAM;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}