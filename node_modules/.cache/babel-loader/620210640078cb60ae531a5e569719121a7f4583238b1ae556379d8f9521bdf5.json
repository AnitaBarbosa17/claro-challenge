{"ast":null,"code":"import axios from \"axios\";\nimport { setChannelList } from '../store/slices/channels';\nimport { channels } from \"./channels\";\nimport { epg } from \"./epg\";\n\n// .toLocaleString(\"es-MX\", {timeZone: \"America/Santiago\"});\nconst formatDate = date => {\n  console.log(\"ðŸš€ ~ file: common.js:8 ~ formatDate ~ date\", date);\n  return date.toISOString().slice(-24).replace(/\\D/g, '').slice(0, 14);\n};\nconst date = new Date();\nconst toDay = new Date();\nconsole.log(\"log directo: \", toDay.toLocaleString(\"es-MX\", {\n  timeZone: \"America/Mexico_City\"\n}));\nconst HoySantiago = toDay.toLocaleString(\"es-MX\", {\n  timeZone: \"America/Mexico_City\"\n});\nconsole.log(\"ðŸš€ ~ file: common.js:16 ~ HoySantiago\", HoySantiago);\nconst dateSince = formatDate(date);\nconsole.log(\"ðŸš€ ~ file: common.js:11 ~ dateSince\", dateSince);\nconst dateTill = formatDate(new Date(date.setDate(date.getDate() + 1)));\n// console.log(\"ðŸš€ ~ file: common.js:13 ~ dateTill\", dateTill)\n\nconst API_URL = `https://mfwkweb-api.clarovideo.net/services/epg/channel?device_id=web&device_category=web&device_model=web&device_type=web&device_so=Chrome&format=json&device_manufacturer=generic&authpn=webclient&authpt=tfg1h3j4k6fd7&api_version=v5.93&region=guatemala&HKS=web61144bb49d549&user_id=54343080&date_from=${dateSince}&date_to=${dateTill}&quantity=200`;\nexport const fetchChannels = async () => new Promise(res => setTimeout(() => res(channels), 400));\nexport const fetchEpg = async () => new Promise(res => setTimeout(() => res(epg), 500));\nexport const fetchAllChannels = () => async dispatch => {\n  await axios.get(API_URL).then(res => {\n    dispatch(setChannelList(res.data.response.channels));\n  }).catch(err => console.log(err));\n};","map":{"version":3,"names":["axios","setChannelList","channels","epg","formatDate","date","console","log","toISOString","slice","replace","Date","toDay","toLocaleString","timeZone","HoySantiago","dateSince","dateTill","setDate","getDate","API_URL","fetchChannels","Promise","res","setTimeout","fetchEpg","fetchAllChannels","dispatch","get","then","data","response","catch","err"],"sources":["/Users/anabarbosa/Code/Tests/react-redux-monkey/src/helpers/common.js"],"sourcesContent":["import axios from \"axios\";\nimport { setChannelList } from '../store/slices/channels';\nimport { channels } from \"./channels\";\nimport { epg } from \"./epg\";\n\n// .toLocaleString(\"es-MX\", {timeZone: \"America/Santiago\"});\nconst formatDate = (date) => {\n    console.log(\"ðŸš€ ~ file: common.js:8 ~ formatDate ~ date\", date)\n    return date.toISOString().slice(-24).replace(/\\D/g,'').slice(0, 14);\n}\nconst date = new Date();\nconst toDay = new Date();\nconsole.log(\"log directo: \",toDay.toLocaleString(\"es-MX\", {timeZone: \"America/Mexico_City\"}))\n\nconst HoySantiago = toDay.toLocaleString(\"es-MX\", {timeZone: \"America/Mexico_City\"});\nconsole.log(\"ðŸš€ ~ file: common.js:16 ~ HoySantiago\", HoySantiago)\n\nconst dateSince = formatDate(date)\nconsole.log(\"ðŸš€ ~ file: common.js:11 ~ dateSince\", dateSince)\nconst dateTill = formatDate(new Date(date.setDate(date.getDate() + 1)));\n// console.log(\"ðŸš€ ~ file: common.js:13 ~ dateTill\", dateTill)\n\nconst API_URL = `https://mfwkweb-api.clarovideo.net/services/epg/channel?device_id=web&device_category=web&device_model=web&device_type=web&device_so=Chrome&format=json&device_manufacturer=generic&authpn=webclient&authpt=tfg1h3j4k6fd7&api_version=v5.93&region=guatemala&HKS=web61144bb49d549&user_id=54343080&date_from=${dateSince}&date_to=${dateTill}&quantity=200`;\n\n\nexport const fetchChannels = async () =>\n    new Promise((res) => setTimeout(() => res(channels), 400));\n\nexport const fetchEpg = async () =>\n    new Promise((res) => setTimeout(() => res(epg), 500));\n\nexport const fetchAllChannels = () => async (dispatch) => {\n    await axios.get(API_URL)\n        .then((res) => {\n            dispatch(setChannelList(res.data.response.channels));\n        })\n        .catch((err) => console.log(err))\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,QAAQ,QAAQ,YAAY;AACrC,SAASC,GAAG,QAAQ,OAAO;;AAE3B;AACA,MAAMC,UAAU,GAAIC,IAAI,IAAK;EACzBC,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEF,IAAI,CAAC;EAC/D,OAAOA,IAAI,CAACG,WAAW,EAAE,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAACC,OAAO,CAAC,KAAK,EAAC,EAAE,CAAC,CAACD,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;AACvE,CAAC;AACD,MAAMJ,IAAI,GAAG,IAAIM,IAAI,EAAE;AACvB,MAAMC,KAAK,GAAG,IAAID,IAAI,EAAE;AACxBL,OAAO,CAACC,GAAG,CAAC,eAAe,EAACK,KAAK,CAACC,cAAc,CAAC,OAAO,EAAE;EAACC,QAAQ,EAAE;AAAqB,CAAC,CAAC,CAAC;AAE7F,MAAMC,WAAW,GAAGH,KAAK,CAACC,cAAc,CAAC,OAAO,EAAE;EAACC,QAAQ,EAAE;AAAqB,CAAC,CAAC;AACpFR,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEQ,WAAW,CAAC;AAEjE,MAAMC,SAAS,GAAGZ,UAAU,CAACC,IAAI,CAAC;AAClCC,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAES,SAAS,CAAC;AAC7D,MAAMC,QAAQ,GAAGb,UAAU,CAAC,IAAIO,IAAI,CAACN,IAAI,CAACa,OAAO,CAACb,IAAI,CAACc,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;AACvE;;AAEA,MAAMC,OAAO,GAAI,gTAA+SJ,SAAU,YAAWC,QAAS,eAAc;AAG5W,OAAO,MAAMI,aAAa,GAAG,YACzB,IAAIC,OAAO,CAAEC,GAAG,IAAKC,UAAU,CAAC,MAAMD,GAAG,CAACrB,QAAQ,CAAC,EAAE,GAAG,CAAC,CAAC;AAE9D,OAAO,MAAMuB,QAAQ,GAAG,YACpB,IAAIH,OAAO,CAAEC,GAAG,IAAKC,UAAU,CAAC,MAAMD,GAAG,CAACpB,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;AAEzD,OAAO,MAAMuB,gBAAgB,GAAG,MAAM,MAAOC,QAAQ,IAAK;EACtD,MAAM3B,KAAK,CAAC4B,GAAG,CAACR,OAAO,CAAC,CACnBS,IAAI,CAAEN,GAAG,IAAK;IACXI,QAAQ,CAAC1B,cAAc,CAACsB,GAAG,CAACO,IAAI,CAACC,QAAQ,CAAC7B,QAAQ,CAAC,CAAC;EACxD,CAAC,CAAC,CACD8B,KAAK,CAAEC,GAAG,IAAK3B,OAAO,CAACC,GAAG,CAAC0B,GAAG,CAAC,CAAC;AACzC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}