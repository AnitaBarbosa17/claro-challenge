{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from \"react\";\n\n// import { fetchChannels, fetchEpg } from \"./helpers\";\nimport { fetchAllChannels } from \"./helpers\";\nimport { useEpg } from \"planby\";\n\n// Import theme\nimport { theme } from \"./helpers/theme\";\nimport { useDispatch, useSelector } from 'react-redux';\nexport function useApp() {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    list: channelsList\n  } = useSelector(state => state.channels);\n  // const [epg, setEpg] = React.useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const epg = [{\n    \"id\": \"6f3caa7f-5b11-4edb-998e-80d4baa03373\",\n    \"description\": \"Bounty hunter Boba Fett & mercenary Fennec Shand navigate the underworld when they return to Tatooine to claim Jabba the Hutt's old turf.\",\n    \"title\": \"The Book of Boba Fett\",\n    \"isYesterday\": true,\n    \"since\": \"2022-10-17T23:50:00\",\n    \"till\": \"2022-10-18T00:55:00\",\n    \"channelUuid\": \"16fdfefe-e466-4090-bc1a-57c43937f826\",\n    \"image\": \"https://www.themoviedb.org/t/p/w1066_and_h600_bestv2/sjx6zjQI2dLGtEL0HGWsnq6UyLU.jpg\",\n    \"country\": \"Ghana\",\n    \"Year\": \"2021â€“\",\n    \"Rated\": \"TV-14\",\n    \"Released\": \"29 Dec 2021\",\n    \"Runtime\": \"N/A\",\n    \"Genre\": \"Action, Adventure, Sci-Fi\",\n    \"Director\": \"N/A\",\n    \"Writer\": \"Jon Favreau\",\n    \"Actors\": \"Temuera Morrison, Ming-Na Wen, Matt Berry\",\n    \"Language\": \"English\",\n    \"Country\": \"United States\",\n    \"Awards\": \"N/A\",\n    \"Metascore\": \"N/A\",\n    \"imdbRating\": \"8.0\",\n    \"imdbVotes\": \"20,147\",\n    \"imdbID\": \"tt13668894\",\n    \"Type\": \"series\",\n    \"totalSeasons\": \"1\",\n    \"Response\": \"True\",\n    \"Ratings\": [{\n      \"Source\": \"Internet Movie Database\",\n      \"Value\": \"8.0/10\"\n    }],\n    \"rating\": 3\n  }, {\n    \"id\": \"4283023a-8bc8-453b-ba29-2af931c37e4d\",\n    \"description\": \"A hedonistic jingle writer's free-wheeling life comes to an abrupt halt when his brother and 10-year-old nephew move into his beach-front house.\",\n    \"title\": \"Two and a Half Men\",\n    \"isYesterday\": true,\n    \"since\": \"2022-10-17T23:10:00\",\n    \"till\": \"2022-10-18T01:35:00\",\n    \"channelUuid\": \"96aaf72c-b5ed-4ce4-937d-1912e4f8bf0d\",\n    \"image\": \"https://www.themoviedb.org/t/p/w1066_and_h600_bestv2/lW3r6Fb7dwZ0bpGwjYHMVkgSVRt.jpg\",\n    \"country\": \"Colombia\",\n    \"Year\": \"2003â€“2015\",\n    \"Rated\": \"TV-14\",\n    \"Released\": \"22 Sep 2003\",\n    \"Runtime\": \"22 min\",\n    \"Genre\": \"Comedy, Romance\",\n    \"Director\": \"N/A\",\n    \"Writer\": \"Lee Aronsohn, Chuck Lorre\",\n    \"Actors\": \"Jon Cryer, Ashton Kutcher, Angus T. Jones\",\n    \"Language\": \"English\",\n    \"Country\": \"United States\",\n    \"Awards\": \"Won 9 Primetime Emmys. 30 wins & 72 nominations total\",\n    \"Metascore\": \"N/A\",\n    \"imdbRating\": \"7.0\",\n    \"imdbVotes\": \"253,658\",\n    \"imdbID\": \"tt0369179\",\n    \"Type\": \"series\",\n    \"totalSeasons\": \"12\",\n    \"Response\": \"True\",\n    \"Ratings\": [{\n      \"Source\": \"Internet Movie Database\",\n      \"Value\": \"7.0/10\"\n    }],\n    \"rating\": 5\n  }];\n  const channelsData = React.useMemo(() => channelsList, [channelsList]);\n  // const epgData = React.useMemo(() => epg, [epg]);\n  const epgData = React.useMemo(() => epg, [epg]);\n  console.log(\"ðŸš€ ~ file: useApp.js:23 ~ useApp ~ epgData\", epgData);\n\n  // const handleGetEpg = () => {\n  // \tlet epgList = [];\n  // \tfor( let channel of channelsData ){\n  // \t\tconst events = channel.events// console.log(channel)\n  // \t\tevents.forEach(event => epgList.push(event) )\n\n  // \t}\n  // \treturn epgList;\n  // }\n\n  const {\n    getEpgProps,\n    getLayoutProps\n  } = useEpg({\n    channels: channelsData,\n    epg: epgData,\n    dayWidth: 7200,\n    sidebarWidth: 100,\n    itemHeight: 80,\n    isSidebar: true,\n    isTimeline: true,\n    isLine: true,\n    // startDate: \"2022-10-18T00:00:00\",\n    // endDate: \"2022-10-18T24:00:00\",\n    // isBaseTimeFormat: true,\n    theme\n  });\n\n  // useEffect(() => {\n  // \tsetEpg(handleGetEpg())\n  // }, []);\n\n  useEffect(() => {\n    setIsLoading(true);\n    dispatch(fetchAllChannels());\n    setIsLoading(false);\n  }, [dispatch, isLoading]);\n  return {\n    getEpgProps,\n    getLayoutProps,\n    isLoading\n  };\n}\n_s(useApp, \"iMg0EoJ0IvERiAxZX3JjVPB3saA=\", false, function () {\n  return [useDispatch, useSelector, useEpg];\n});","map":{"version":3,"names":["React","useCallback","useEffect","useState","fetchAllChannels","useEpg","theme","useDispatch","useSelector","useApp","dispatch","list","channelsList","state","channels","isLoading","setIsLoading","epg","channelsData","useMemo","epgData","console","log","getEpgProps","getLayoutProps","dayWidth","sidebarWidth","itemHeight","isSidebar","isTimeline","isLine"],"sources":["/Users/anabarbosa/Code/Tests/react-redux-monkey/src/useApp.js"],"sourcesContent":["import React, {useCallback, useEffect, useState} from \"react\";\n\n// import { fetchChannels, fetchEpg } from \"./helpers\";\nimport { fetchAllChannels } from \"./helpers\";\n\nimport { useEpg } from \"planby\";\n\n// Import theme\nimport { theme } from \"./helpers/theme\";\n\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport function useApp() {\n\t\n\tconst dispatch = useDispatch();\n\n\tconst { list: channelsList } = useSelector(state => state.channels);\n\t// const [epg, setEpg] = React.useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst epg = [\n   {\n      \"id\":\"6f3caa7f-5b11-4edb-998e-80d4baa03373\",\n      \"description\":\"Bounty hunter Boba Fett & mercenary Fennec Shand navigate the underworld when they return to Tatooine to claim Jabba the Hutt's old turf.\",\n      \"title\":\"The Book of Boba Fett\",\n      \"isYesterday\":true,\n      \"since\":\"2022-10-17T23:50:00\",\n      \"till\":\"2022-10-18T00:55:00\",\n      \"channelUuid\":\"16fdfefe-e466-4090-bc1a-57c43937f826\",\n      \"image\":\"https://www.themoviedb.org/t/p/w1066_and_h600_bestv2/sjx6zjQI2dLGtEL0HGWsnq6UyLU.jpg\",\n      \"country\":\"Ghana\",\n      \"Year\":\"2021â€“\",\n      \"Rated\":\"TV-14\",\n      \"Released\":\"29 Dec 2021\",\n      \"Runtime\":\"N/A\",\n      \"Genre\":\"Action, Adventure, Sci-Fi\",\n      \"Director\":\"N/A\",\n      \"Writer\":\"Jon Favreau\",\n      \"Actors\":\"Temuera Morrison, Ming-Na Wen, Matt Berry\",\n      \"Language\":\"English\",\n      \"Country\":\"United States\",\n      \"Awards\":\"N/A\",\n      \"Metascore\":\"N/A\",\n      \"imdbRating\":\"8.0\",\n      \"imdbVotes\":\"20,147\",\n      \"imdbID\":\"tt13668894\",\n      \"Type\":\"series\",\n      \"totalSeasons\":\"1\",\n      \"Response\":\"True\",\n      \"Ratings\":[\n         {\n            \"Source\":\"Internet Movie Database\",\n            \"Value\":\"8.0/10\"\n         }\n      ],\n      \"rating\":3\n   },\n   {\n      \"id\":\"4283023a-8bc8-453b-ba29-2af931c37e4d\",\n      \"description\":\"A hedonistic jingle writer's free-wheeling life comes to an abrupt halt when his brother and 10-year-old nephew move into his beach-front house.\",\n      \"title\":\"Two and a Half Men\",\n      \"isYesterday\":true,\n      \"since\":\"2022-10-17T23:10:00\",\n      \"till\":\"2022-10-18T01:35:00\",\n      \"channelUuid\":\"96aaf72c-b5ed-4ce4-937d-1912e4f8bf0d\",\n      \"image\":\"https://www.themoviedb.org/t/p/w1066_and_h600_bestv2/lW3r6Fb7dwZ0bpGwjYHMVkgSVRt.jpg\",\n      \"country\":\"Colombia\",\n      \"Year\":\"2003â€“2015\",\n      \"Rated\":\"TV-14\",\n      \"Released\":\"22 Sep 2003\",\n      \"Runtime\":\"22 min\",\n      \"Genre\":\"Comedy, Romance\",\n      \"Director\":\"N/A\",\n      \"Writer\":\"Lee Aronsohn, Chuck Lorre\",\n      \"Actors\":\"Jon Cryer, Ashton Kutcher, Angus T. Jones\",\n      \"Language\":\"English\",\n      \"Country\":\"United States\",\n      \"Awards\":\"Won 9 Primetime Emmys. 30 wins & 72 nominations total\",\n      \"Metascore\":\"N/A\",\n      \"imdbRating\":\"7.0\",\n      \"imdbVotes\":\"253,658\",\n      \"imdbID\":\"tt0369179\",\n      \"Type\":\"series\",\n      \"totalSeasons\":\"12\",\n      \"Response\":\"True\",\n      \"Ratings\":[\n         {\n            \"Source\":\"Internet Movie Database\",\n            \"Value\":\"7.0/10\"\n         }\n      ],\n      \"rating\":5\n   }\n]\n\t\n\tconst channelsData = React.useMemo(() => channelsList, [channelsList]);\n\t// const epgData = React.useMemo(() => epg, [epg]);\n\tconst epgData = React.useMemo(() => epg, [epg]);\n\tconsole.log(\"ðŸš€ ~ file: useApp.js:23 ~ useApp ~ epgData\", epgData)\n\n\t// const handleGetEpg = () => {\n\t// \tlet epgList = [];\n\t// \tfor( let channel of channelsData ){\n\t// \t\tconst events = channel.events// console.log(channel)\n\t// \t\tevents.forEach(event => epgList.push(event) )\n\t\t\t\n\t// \t}\n\t// \treturn epgList;\n\t// }\n\n\tconst { getEpgProps, getLayoutProps } = useEpg({\n\t\tchannels: channelsData,\n\t\tepg: epgData,\n\t\tdayWidth: 7200,\n\t\tsidebarWidth: 100,\n\t\titemHeight: 80,\n\t\tisSidebar: true,\n\t\tisTimeline: true,\n\t\tisLine: true,\n\t\t// startDate: \"2022-10-18T00:00:00\",\n\t\t// endDate: \"2022-10-18T24:00:00\",\n\t\t// isBaseTimeFormat: true,\n\t\ttheme\n\t});\n\n\t// useEffect(() => {\n\t// \tsetEpg(handleGetEpg())\n\t// }, []);\n\t\n\tuseEffect(() => {\n\t\tsetIsLoading(true)\n\t\tdispatch(fetchAllChannels())\n\t\tsetIsLoading(false)\n\t}, [dispatch, isLoading]);\n\n\treturn { getEpgProps, getLayoutProps, isLoading };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}